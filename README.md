# Go-WebRTC 实时会议系统

基于WebRTC和WebSocket的实时会议系统，支持快速会议和普通会议两种模式，提供视频通话、音频通话等功能。

## 功能特点

- 支持快速会议和普通会议两种模式
- 基于WebRTC的实时音视频通讯
- WebSocket实现信令服务器
- 支持房间密码保护
- 自动清理超时用户和空闲房间
- 在线用户统计和监控

## 技术栈

- 后端：Go 1.21
- WebSocket：gorilla/websocket v1.5.1
- 前端：WebRTC API、JavaScript
- 通信协议：HTTPS/WSS

## 安装和运行

1. 克隆项目
```bash
git clone https://github.com/zjzjzjzj1874/go-webrtc.git
cd go-webrtc
```

2. 安装依赖
```bash
go mod tidy
```

3. 准备SSL证书

由于WebRTC要求使用HTTPS，您需要准备SSL证书。将证书文件命名为`cert.pem`和`key.pem`，放在项目根目录。

4. 运行服务
```bash
go run main.go
```

服务将在54321端口启动。

## 使用说明

### 快速会议

1. 访问系统首页
2. 选择"快速会议"模式
3. 系统会自动创建一个房间并生成房间号
4. 将房间号分享给其他参会者即可开始会议

### 普通会议

1. 访问系统首页
2. 选择"创建房间"，输入房间号和密码（可选）
3. 其他参会者可以通过房间号和密码（如果设置）加入会议

## 系统特性

- **心跳检测**：系统会定期检测用户在线状态
- **自动清理**：超过1分钟无响应的用户将被自动清理
- **空闲房间处理**：没有用户的房间会被自动删除
- **用户统计**：每30秒更新一次在线用户统计信息

## 注意事项

1. 必须使用HTTPS访问系统
2. 首次使用时浏览器会请求摄像头和麦克风权限
3. 建议使用最新版本的Chrome或Firefox浏览器
4. 确保网络环境稳定，以获得最佳通话质量

## 常见问题

**Q: 为什么必须使用HTTPS？**

A: WebRTC出于安全考虑，要求必须在HTTPS环境下运行。

**Q: 如何处理摄像头/麦克风权限？**

A: 首次使用时，请在浏览器弹出的权限请求中选择"允许"。

**Q: 会议人数是否有限制？**

A: 由于采用P2P通信模式，建议每个房间的参会人数不要过多，以确保最佳通话质量。

## 贡献

欢迎提交Issue和Pull Request来帮助改进项目。

## 许可证

MIT License